<!DOCTYPE html>

<html lang="en" dir="ltr">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content=" 
      {% block meta_description %}Canonical makes open source secure, reliable and easy to use, providing support for Ubuntu and a portfolio of enterprise-grade technologies. Founded in 2004, Canonical operates globally with team members in over 80 countries.{% endblock %}" />
      <meta name="copydoc" content=" 
        {% block meta_copydoc %}https://drive.google.com/drive/folders/0B8feV0jqaac3TmExU3NDcHhFTGc{% endblock %}" />
        <meta name="author" content="Canonical Ltd" />
        <link rel="canonical" href="{% block canonical_url %}{{ request.url }}{% endblock %}" />
        
        <meta name="discourse-url" content="
        {% block meta_discourse_url %}https://discourse.ubuntu.com{% endblock %}" />

          <meta name="theme-color" content="#262626" />
          <meta name="twitter:account_id" content="169015850" />
          <meta name="twitter:site" content="@canonical" />
          <meta property="og:type" content="website" />
          <meta property="og:url" content="{{ request.url }}" />
          <meta property="og:site_name" content="Canonical" />
          
          <title>

            {% block title %}Canonical | Trusted open source for enterprises{% endblock %}
          </title>
          {% if self.title() %}
            <meta name="twitter:title" content="{{ self.title() }} | Canonical" />
            <meta property="og:title" content="{{ self.title() }} | Canonical" />
          {% endif %}
          {% if self.meta_description() %}
            <meta name="twitter:description" content="{{ self.meta_description() }}" />
            <meta property="og:description" content="{{ self.meta_description() }}" />
          {% endif %}

          {# Define the required meta_keywords block #}
          <!-- Meta keywords: {% block meta_keywords %}{% endblock %} -->
          {% if self.meta_keywords() %}
            <!-- added for internal helps -->
            <meta name="keywords" content="{{ self.meta_keywords() }}" />
          {% endif %}

          {# Define the required meta_image block #}
          <!-- Meta image: {% block meta_image %}{% endblock %} -->
          {% if self.meta_image() %}
            <meta name="twitter:card" content="summary_large_image" />
            <meta name="twitter:image"
                  content="{% if 'http' not in self.meta_image() %}https://assets.ubuntu.com/v1/{% endif %}{{ self.meta_image() }}" />
            <meta property="og:image"
                  content="{% if 'http' not in self.meta_image() %}https://assets.ubuntu.com/v1/{% endif %}{{ self.meta_image() }}" />
          {% else %}
            <meta name="twitter:card" content="summary_large_image" />
            <meta name="twitter:image"
                  content="https://assets.ubuntu.com/v1/c797f1d7-og_%20canonical.png" />
            <meta property="og:image"
                  content="https://assets.ubuntu.com/v1/c797f1d7-og_%20canonical.png" />
          {% endif %}

          {% set current_path = url_for(request.endpoint, **request.view_args) %}
          {% if "/careers" in current_path %}
            <script src="https://www.google.com/recaptcha/enterprise.js?render={{ recaptcha_site_key }}" defer></script>
            <meta name="twitter:image"
                  content="https://assets.ubuntu.com/v1/c17ef7b4-careers-meta-image-resized.png" />
            <meta property="og:image"
                  content="https://assets.ubuntu.com/v1/c17ef7b4-careers-meta-image-resized.png" />
          {% endif %}

          {% block extra_metatags %}{% endblock %}

          <link rel="apple-touch-icon"
                sizes="180x180"
                href="https://assets.ubuntu.com/v1/f38b9c7e-COF%20apple-touch-icon.png" />
          <link rel="icon"
                type="image/png"
                sizes="32x32"
                href="https://assets.ubuntu.com/v1/be7e4cc6-COF-favicon-32x32.png" />
          <link rel="icon"
                type="image/png"
                sizes="16x16"
                href="https://assets.ubuntu.com/v1/16c27f81-COF%20favicon-16x16.png" />
          <link rel="manifest" href="{{ versioned_static("files/site.webmanifest") }}" />
          <!-- Serving favicon for search engines locally -->
          <link rel="icon" type="image/png" sizes="48x48" href="{{ versioned_static("favicons/COF-favicon-48x48.png") }}" />

          <link rel="preconnect" href="https://assets.ubuntu.com" />

          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/e8c07df6-Ubuntu-L_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/7f100985-Ubuntu-Th_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/f8097dea-Ubuntu-LI_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/fff37993-Ubuntu-R_W.woff2"
                crossorigin />

          <script src="https://assets.ubuntu.com/v1/703e23c9-lazysizes+noscript+native-loading.5.1.2.min.js"
                  defer></script>

          <link rel="stylesheet" type="text/css" media="screen" href="{{ versioned_static("css/styles.css") }}" />
        </head>

        <body class=" 
          {% block body_class %}{% endblock %} l-site">
          <!-- Google Tag Manager (noscript) -->
          <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M5BPGQ6"
        height="0"
        width="0"
        style="display:none;
               visibility:hidden"></iframe></noscript>
          <a href="#main-content" class="u-off-screen">Skip to main content</a>
          <div id="success" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Your submission was sent successfully! <a href="#"
    onclick="document.querySelector('#success').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="newsletter-signup" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Thank you for signing up for our newsletter!
                  <br />
                  In these regular emails you will find the latest updates from Canonical and upcoming events where you can meet our team.<a href="#"
   onclick="document.querySelector('#newsletter-signup').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="contact-form-success" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Thank you for contacting us. A member of our team will be in touch shortly. <a href="#"
   onclick="document.querySelector('#contact-form-success').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="contact-form-fail" class="u-hide">
            <div class="p-notification--negative u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  {% with messages = get_flashed_messages(with_categories=True) %}
                    {% for category, message in messages %}
                      {% if category == "contact-form-fail" %}{{ message }}{% endif %}
                    {% endfor %}
                    {% if not messages %}
                      An error occurred while submitting your form.
                    {% endif %}
                    Please try again or 
                    <a href="https://github.com/canonical/canonical.com/issues/new?template=ISSUE_TEMPLATE.md">file a bug report</a>.
                  {% endwith %}
                  <a href="#" onclick="document.querySelector('#contact-form-fail').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>

          {% include "navigation/navigation.html" %}

          <div id="main-content">

            {% block content %}
            {% endblock content %}
          </div>

          {% block footer %}
            {% include 'partial/_footer.html' %}
          {% endblock footer %}

          <script defer src="{{ versioned_static('js/dist/navigation.js') }}"></script>
          <script src="{{ versioned_static('js/dist/forms.js') }}"></script>
          <script>
            (function() {
              // Form submission notification
              var bannerElements = ["#success", "#newsletter-signup", "#contact-form-success", "#contact-form-fail"];
              bannerElements.forEach(el => {
                if (location.hash === el) {
                  document.querySelector(el).classList.remove("u-hide");
                } else {
                  document.querySelector(el).classList.add("u-hide");
                }
              })

              let params = new URLSearchParams(window.location.search);
              const utm_names = ["campaign", "source", "medium", "content", "term"];
              for (let i = 0; i < utm_names.length; i++) {
                var utm_fields = document.getElementsByName("utm_" + utm_names[i]);
                if (utm_fields.length > 0) {
                  utm_fields[0].value = params.get("utm_" + utm_names[i]);
                }
              }
            })()
          </script>
          
          <!-- Cookie policy -->
          <script src="{{ versioned_static('js/modules/cookie-policy/cookie-loader.js') }}"></script>
          <script src="{{ versioned_static('js/dist/cookie-policy-with-callback.js') }}"></script>

           <!-- Google Tag Manager -->
          <script>
            document.addEventListener('DOMContentLoaded', () => {
              /** init gtm after 2 seconds - can be adjusted */
              setTimeout(initGTM, 2000);
            });
            document.addEventListener('scroll', initGTMOnEvent);
            document.addEventListener('mousemove', initGTMOnEvent);
            document.addEventListener('touchstart', initGTMOnEvent);

            function initGTMOnEvent(event) {
              initGTM();
              event.currentTarget.removeEventListener(event.type, initGTMOnEvent); // remove the event listener that got triggered
            }
            
            function initGTM() {
              if (window.gtmDidInit) {
                return false;
              }
              window.gtmDidInit = true; // flag to ensure script does not get added to DOM more than once.
              
              (function(w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                  'gtm.start': new Date().getTime(),
                  event: 'gtm.js'
                });
                var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
              })(window, document, 'script', 'dataLayer', 'GTM-M5BPGQ6');
            }
          </script>

          <!-- set canonical.initialReferrer, canonical.initialUrl -->
          <script>
            (function() {
              const initialReferrerKey = "canonical.initialReferrer";
              const initialUrlKey = "canonical.initialUrl";

              function stripReferrer(url) {
                if (!url) {
                  return "";
                }
                try {
                  const parsed = new URL(url, window.location.href);
                  return parsed.origin || "";
                } catch (error) {
                  return "";
                }
              }

              try {
                if (!sessionStorage.getItem(initialReferrerKey)) {
                  const refDomain = stripReferrer(document.referrer);
                  if (refDomain) {
                    sessionStorage.setItem(initialReferrerKey, refDomain);
                  }
                }

                if (!sessionStorage.getItem(initialUrlKey)) {
                  sessionStorage.setItem(initialUrlKey, window.location.href);
                }
              } catch {}
            })();
          </script>

        </body>

      </html>
