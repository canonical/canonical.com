<form action="" method="get" class="row">
  <div class="col-3 col-medium-2">
    <label for="filter" aria-label="Filter the resources by type" class="p-muted-heading">Filter:</label>
  </div>
  <div class="col-6 col-medium-4">
    <select class="js-submit-on-change" id="filter" name="content" aria-label="Filter by content type">
      <option {% if not category %}selected="selected"{% endif %} value="/blog/{{topic}}#posts-list">All content types</option>
      <option {% if category and category.slug == 'articles' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=articles#posts-list">Articles</option>
      <option {% if category and category.slug == 'case-studies' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=case-studies#posts-list">Case studies</option>
      <option {% if category and category.slug == 'news' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=news#posts-list">News</option>
      <option {% if category and category.slug == 'videos' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=videos#posts-list">Videos</option>
      <option {% if category and category.slug == 'webinars' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=webinars#posts-list">Webinars</option>
      <option {% if category and category.slug == 'white-papers' %}selected="selected"{% endif %} value="/blog/{{topic}}?category=white-papers#posts-list">White papers</option>
    </select>
    <input type="submit" value="Send Request" class="u-hide">
    <input type="hidden" name="topic" value="{{topic}}">
  </div>
</form>
  
<script>
  var select = document.querySelector('.js-submit-on-change');
  select.addEventListener('change', function(e) {
    var form = this.closest('form');
    if (form) {
      location.href=document.getElementById("filter").value;
    }
  });
</script>
